[
 {
  "docstatus": 0,
  "doctype": "Custom Script",
  "dt": "Sales Invoice",
  "modified": "2019-01-19 14:00:44.136262",
  "name": "Sales Invoice-Client",
  "script": "frappe.ui.form.on('Sales Invoice Item', {\n\titem_code:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tvar doc=locals['Sales Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"item_code\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tstart_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.end_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Sales Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"start_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tend_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.start_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Sales Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"end_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n",
  "script_type": "Client"
 },
 {
  "docstatus": 0,
  "doctype": "Custom Script",
  "dt": "Purchase Invoice",
  "modified": "2019-01-19 14:02:09.916746",
  "name": "Purchase Invoice-Client",
  "script": "frappe.ui.form.on('Purchase Invoice Item', {\n\titem_code:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tvar doc=locals['Purchase Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"item_code\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tstart_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.end_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Purchase Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"start_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tend_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.start_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Purchase Invoice'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"end_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n",
  "script_type": "Client"
 },
 {
  "docstatus": 0,
  "doctype": "Custom Script",
  "dt": "Stock Entry",
  "modified": "2019-01-19 14:01:13.595672",
  "name": "Stock Entry-Client",
  "script": "frappe.ui.form.on('Stock Entry Detail', {\n\titem_code:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tvar doc=locals['Stock Entry'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"item_code\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tstart_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.end_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Stock Entry'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"start_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tend_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.start_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Stock Entry'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"end_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n",
  "script_type": "Client"
 },
 {
  "docstatus": 0,
  "doctype": "Custom Script",
  "dt": "Purchase Receipt",
  "modified": "2019-01-19 14:01:37.187746",
  "name": "Purchase Receipt-Client",
  "script": "frappe.ui.form.on('Purchase Receipt Item', {\n\titem_code:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tvar doc=locals['Purchase Receipt'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"item_code\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tstart_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.end_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Purchase Receipt'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"start_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tend_series:function(frm,cdt,cdn){\n\t\tvar row=locals[cdt][cdn];\n\t\tif(row.start_series){\n\t\t\tif(parseFloat(row.start_series)>parseFloat(row.end_series)){\n\t\t\t\tfrappe.throw(\"End Series Must Be Greater Than Start Series\")\n\t\t\t}\n\t\t\tvar diff=parseFloat(row.end_series)-parseFloat(row.start_series) + 1\n\t\t\tfrappe.model.set_value(cdt,cdn,\"qty\",diff)\n\t\t}\n\t\tvar doc=locals['Purchase Receipt'][row.parent]\n\t\tconsole.log(doc);\n\t\tfor(var item in doc.items){\n\t\t\tif(doc.items[item].item_code==row.item_code && doc.items[item].start_series==row.start_series && doc.items[item].end_series==row.end_series){\n\t\t\t\tconsole.log(\"true\")\n\t\t\t\tif(doc.items[item].name!=row.name){\n\t\t\t\t\tfrappe.model.set_value(cdt,cdn,\"end_series\",\"\")\n\t\t\t\t\tfrappe.throw(\"Item, Start Series and End Series Already Selected\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n",
  "script_type": "Client"
 },
 {
  "docstatus": 0,
  "doctype": "Custom Script",
  "dt": "Payment Entry",
  "modified": "2019-01-17 12:57:10.566350",
  "name": "Payment Entry-Client",
  "script": "frappe.ui.form.on(\"Payment Entry\", \"payment_type\", function(frm) {\n    if (cur_frm.doc.payment_type == \"Pay\") {\n\tcur_frm.set_value(\"party_type\", \"Supplier\");\n    } else if (cur_frm.doc.payment_type == \"Receive\") {\n\tcur_frm.set_value(\"party_type\", \"Customer\");\n    }\n});\n",
  "script_type": "Client"
 }
]